[gd_scene load_steps=9 format=4 uid="uid://fph6pf3vvssy"]

[ext_resource type="Script" path="res://scripts/crate_physics.gd" id="1_h6fso"]
[ext_resource type="Texture2D" uid="uid://72ldk18ropuj" path="res://models/props/Textures/colormap.png" id="2_xso3g"]
[ext_resource type="PackedScene" uid="uid://dqe83pil81wbx" path="res://objects/dither_obstacle.tscn" id="3_e72jg"]

[sub_resource type="BoxShape3D" id="BoxShape3D_fw6dp"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jwk57"]
resource_name = "colormap"
cull_mode = 2
albedo_texture = ExtResource("2_xso3g")
texture_filter = 2

[sub_resource type="ArrayMesh" id="ArrayMesh_jfw8j"]
_surfaces = [{
"aabb": AABB(-0.25, 0, -0.25, 0.5, 0.5, 0.5),
"format": 34896613377,
"index_count": 468,
"index_data": PackedByteArray("AgAAAAEAAQADAAIAAgAEAAUABQAAAAIABgAFAAQABAAHAAYAAQAGAAcABwADAAEABwAEAAgABAACAAgABwAIAAkACgAIAAIACQALAAcACgACAAMACwAKAAMAAwAHAAsADgAMAA0ADQAPAA4ADwAQAA4AEAARAA4ADgASABMAEwAMAA4ADwAUABUAFQAQAA8AGAAWABcAFwAZABgAGwAaABgAGAAZABsAFgAcAB0AHQAXABYAHQAcABoAGgAbAB0AGAAaAB4AGgAcAB4AGAAeAB8AIAAeABwAHwAhABgAIAAcABYAIQAgABYAFgAYACEAJAAiACMAIwAlACQAJQAmACQAJgAnACQAJAAoACkAKQAiACQAJQAqACsAKwAmACUALgAsAC0ALQAvAC4ALwAwADEAMQAuAC8AMwAyAC0ALQAsADMAMAAyADMAMwAxADAAMwAsAB4ALAAuAB4AMwAeADQACgAeAC4ANAAIADMACgAuADEACAAKADEAMQAzAAgANwA1ADYANgA4ADcAOAA5ADcAOQA6ADcANwA7ADwAPAA1ADcAOAA9AD4APgA5ADgAQQA/AEAAQABCAEEAQABDAEQARABCAEAAQQBFAEYARgA/AEEARABDAEYARgBFAEQARABFAAsARQBBAAsARAALAEcACgALAEEARwAeAEQACgBBAEIAHgAKAEIAQgBEAB4ASgBIAEkASQBLAEoASwBMAEoATABNAEoASgBOAE8ATwBIAEoASwBQAFEAUQBMAEsAVABSAFMAUwBVAFQAUgBWAFcAVwBTAFIAVwBWAFgAWABZAFcAVQBZAFgAWABUAFUAUgBUAAsAVABYAAsAUgALAAkARwALAFgACQBaAFIARwBYAFYAWgBHAFYAVgBSAFoAXQBbAFwAXABeAF0AXgBfAF0AXwBgAF0AXQBhAGIAYgBbAF0AXgBjAGQAZABfAF4AZwBlAGYAZgBoAGcAagBpAGgAaABmAGoAagBrAGwAbABpAGoAZQBnAGwAbABrAGUAaABpAAgAaQBsAAgAaAAIADQACQAIAGwANABaAGgACQBsAGcAWgAJAGcAZwBoAFoAbwBtAG4AbgBwAG8AcABxAG8AcQByAG8AbwBzAHQAdABtAG8AcAB1AHYAdgBxAHAABQAGAAEAAQAAAAUAGwAZABcAFwAdABsALQAyADAAMAAvAC0ARgBDAEAAQAA/AEYAVQBTAFcAVwBZAFUAagBmAGUAZQBrAGoA"),
"name": "colormap",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 119,
"vertex_data": PackedByteArray("pCgo3FrXAABa1yjcWtcAAKQo//9a1wAAWtf//1rXAACkKP//pCgAAKQoKNykKAAAWtco3KQoAABa1///pCgAAAAA//8AAAAA/////wAAAAAAAP////8AAP///////wAAUlQT7lrXAACkKBPuWtcAAFrXE+5SVAAApCgT7qyrAACsqxPupCgAAFrXE+6kKAAAWtco3FJUAABSVCjcWtcAAKQoKNysqwAArKso3KQoAABa1wAApCgAAFrX1iOkKAAAWtcAAFrXAABa19YjWtcAAKQoAABa1wAApCjWI1rXAACkKAAApCgAAKQo1iOkKAAAAAAAAP//AAD//wAA//8AAAAAAAAAAAAA//8AAAAAAABa1+sRUlQAAFrX6xGkKAAAUlTrEVrXAACsq+sRpCgAAKQo6xGsqwAApCjrEVrXAABSVNYjWtcAAFrX1iNSVAAArKvWI6QoAACkKNYjrKsAAAAApCha1wAA1iOkKFrXAAAAAFrXWtcAANYjWtda1wAA1iNa16QoAAAAAFrXpCgAANYjpCikKAAAAACkKKQoAAAAAAAAAAAAAOsRpChSVAAA6xGkKKQoAADrEayrWtcAAOsRUlSkKAAA6xFa16yrAADrEVrXWtcAANYjrKta1wAA1iOkKFJUAADWI1JUpCgAANYjWtesqwAApCha1yjcAACkKKQoKNwAAKQoWtf//wAApCikKP//AABa16QoKNwAAFrXpCj//wAAWtda1///AABa11rXKNwAAP//AAD//wAAUlSkKBPuAACkKKQoE+4AAFrXrKsT7gAApChSVBPuAACsq1rXE+4AAFrXWtcT7gAAWtesqyjcAABSVKQoKNwAAKQoUlQo3AAArKta1yjcAAD//1rXpCgAACjcWtekKAAA//9a11rXAAAo3FrXWtcAAP//pCikKAAAKNykKKQoAAD//6QoWtcAACjcpCha1wAA//8AAAAAAAAT7qQorKsAABPupCha1wAAE+6sq6QoAAAT7lJUWtcAABPuWtdSVAAAE+5a16QoAAAo3KyrpCgAACjcpCisqwAAKNxSVFrXAAAo3FrXUlQAAFrXpCjWIwAApCikKNYjAABa16QoAAAAAKQopCgAAAAApCha1wAAAACkKFrX1iMAAFrXWtfWIwAAWtda1wAAAACsq6Qo6xEAAFrXpCjrEQAApCisq+sRAABa11JU6xEAAFJUWtfrEQAApCha1+sRAACkKKyr1iMAAKyrpCjWIwAAWtdSVNYjAABSVFrX1iMAAA==")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_wrn37"]
resource_name = "crate_crate"
_surfaces = [{
"aabb": AABB(-0.25, 0, -0.25, 0.5, 0.5, 0.5),
"attribute_data": PackedByteArray("/7eY+f+3mPn/t2XG/7dlxv+3Zcb/t5j5/7dlxv+3mPn/t5j5/7dlxv+3mPn/t2XG/7eY+f+3Zcb/t5j5/7dlxv+3Zcb/t2XG/7dlxv+3Zcb/t2XG/7dlxv+3Zcb/t2XG/7eY+f+3mPn/tzLT/7fL7P+3Zcb/t2XG/7cy0/+3mPn/tzLT/7eY+f+3y+z/t2XG/7fL7P+3Zcb/t5j5/7dlxv+3mPn/t2XG/7eY+f+3mPn/t2XG/7dlxv+3mPn/t2XG/7eY+f+3Zcb/t5j5/7eY+f+3Zcb/t2XG/7eY+f+3mPn/t5j5/7eY+f+3mPn/t5j5/7eY+f+3mPn/t5j5/7eY+f+3MtP/t8vs/7dlxv+3Zcb/tzLT/7eY+f+3MtP/t5j5/7fL7P+3Zcb/t8vs/7dlxv+3d/H/t3fx/7eGzv+3hs7/t4bO/7eGzv+3hs7/t4bO/7d38f+3d/H/t3fx/7d38f+3d/H/t3fx/7eGzv+3hs7/t3fx/7eY+f+3d/H/t4bO/7eY+f+3Zcb/t2XG/7eGzv+3mPn/t5j5/7cy0/+3y+z/t2XG/7dlxv+3MtP/t5j5/7cy0/+3mPn/t8vs/7dlxv+3y+z/t2XG/7eGzv+3d/H/t4bO/7d38f+3d/H/t3fx/7d38f+3d/H/t4bO/7eGzv+3hs7/t4bO/7d38f+3hs7/t3fx/7eGzv+3hs7/t2XG/7d38f+3hs7/t5j5/7dlxv+3mPn/t3fx/7eY+f+3mPn/tzLT/7fL7P+3Zcb/t2XG/7cy0/+3mPn/tzLT/7eY+f+3y+z/t2XG/7fL7P+3Zcb/t4bO/7eGzv+3hs7/t4bO/7d38f+3d/H/t4bO/7eGzv+3d/H/t3fx/7d38f+3d/H/t3fx/7d38f+3hs7/t4bO/7eGzv+3Zcb/t4bO/7d38f+3Zcb/t5j5/7eY+f+3d/H/t5j5/7eY+f+3MtP/t8vs/7dlxv+3Zcb/tzLT/7eY+f+3MtP/t5j5/7fL7P+3Zcb/t8vs/7dlxv+3d/H/t3fx/7d38f+3d/H/t4bO/7d38f+3hs7/t3fx/7eGzv+3hs7/t4bO/7eGzv+3d/H/t4bO/7d38f+3hs7/t4bO/7dlxv+3d/H/t4bO/7eY+f+3Zcb/t5j5/7d38f+3mPn/t5j5/7cy0/+3y+z/t2XG/7dlxv+3MtP/t5j5/7cy0/+3mPn/t8vs/7dlxv+3y+z/t2XG/9eY+f/XmPn/15j5/9eY+f/XZcb/12XG/9dlxv/XZcb/13fx/9eGzv/Xd/H/14bO/9d38f/Xd/H/14bO/9eGzv/Xhs7/13fx/9eGzv/Xd/H/13fx/9d38f/Xhs7/14bO"),
"format": 34896613399,
"index_count": 468,
"index_data": PackedByteArray("AgAAAAEAAQADAAIABgAEAAUABQAHAAYACgAIAAkACQALAAoADgAMAA0ADQAPAA4AEgAQABEAEAATABEAEgARABQAFQARABMAFAAWABIAFQATABcAFgAVABcAFwASABYAGgAYABkAGQAbABoAGwAcABoAHAAdABoAIAAeAB8AHwAhACAAJAAiACMAIwAlACQAKAAmACcAJwApACgALAAqACsAKwAtACwAMAAuAC8ALwAxADAANAAyADMAMwA1ADQAOAA2ADcANgA5ADcAOAA3ADoAOwA3ADkAOgA8ADgAOwA5AD0APAA7AD0APQA4ADwAQAA+AD8APwBBAEAAQQBCAEAAQgBDAEAARgBEAEUARQBHAEYASgBIAEkASQBLAEoATgBMAE0ATQBPAE4AUgBQAFEAUQBTAFIAVgBUAFUAVQBXAFYAWgBYAFkAWQBbAFoAXgBcAF0AXABfAF0AXgBdAGAAYQBdAF8AYABiAF4AYQBfAGMAYgBhAGMAYwBeAGIAZgBkAGUAZQBnAGYAZwBoAGYAaABpAGYAbABqAGsAawBtAGwAcABuAG8AbwBxAHAAdAByAHMAcwB1AHQAeAB2AHcAdwB5AHgAfAB6AHsAewB9AHwAgAB+AH8AfwCBAIAAhACCAIMAggCFAIMAhACDAIYAhwCDAIUAhgCIAIQAhwCFAIkAiACHAIkAiQCEAIgAjACKAIsAiwCNAIwAjQCOAIwAjgCPAIwAkgCQAJEAkQCTAJIAlgCUAJUAlQCXAJYAmgCYAJkAmQCbAJoAngCcAJ0AnQCfAJ4AogCgAKEAoQCjAKIApgCkAKUApQCnAKYAqgCoAKkAqACrAKkAqgCpAKwArQCpAKsArACuAKoArQCrAK8ArgCtAK8ArwCqAK4AsgCwALEAsQCzALIAswC0ALIAtAC1ALIAuAC2ALcAtwC5ALgAvAC6ALsAuwC9ALwAwAC+AL8AvwDBAMAAxADCAMMAwwDFAMQAyADGAMcAxwDJAMgAzADKAMsAywDNAMwA0ADOAM8AzgDRAM8A0ADPANIA0wDPANEA0gDUANAA0wDRANUA1ADTANUA1QDQANQA2ADWANcA1wDZANgA2QDaANgA2gDbANgA3gDcAN0A3QDfAN4A4gDgAOEA4QDjAOIA5gDkAOUA5QDnAOYA6gDoAOkA6QDrAOoA7gDsAO0A7QDvAO4A8gDwAPEA8QDzAPIA9gD0APUA9QD3APYA+gD4APkA+QD7APoA"),
"material": SubResource("StandardMaterial3D_jwk57"),
"name": "colormap",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 252,
"vertex_data": PackedByteArray("pCgo3FrX//9a1yjcWtf//6Qo//9a1///Wtf//1rX//+kKP//pCj/v6QoKNykKP+/pCj//1rX/7+kKCjcWtf/v6QoKNykKACApCj//6QoAIBa1yjcpCgAgFrX//+kKACAWtco3KQo/79a1///pCj/v1rXKNxa1/+/Wtf//1rX/7+kKP//pCj//wAA//8AAP//Wtf//6Qo//+kKP//Wtf///////8AAP//AAD//////////////////1rX//9a1///UlQT7lrX/7+kKBPuWtf/v1rXE+5SVP+/pCgT7qyr/7+sqxPupCj/v1rXE+6kKP+/Wtco3FJU/MVSVCjcWtf8xVrXE+5SVPzFUlQT7lrX/MWkKCjcrKuq6ayrKNykKKrppCgT7qyrqumsqxPupCiq6VrXAACkKP+/WtfWI6Qo/79a1wAAWtf/v1rX1iNa1/+/pCgAAFrX//9a1wAAWtf//6Qo1iNa1///WtfWI1rX//+kKAAApCgAgKQo1iOkKACAWtcAAKQoAIBa19YjpCgAgKQoAACkKP+/pCgAAFrX/7+kKNYjpCj/v6Qo1iNa1/+/pCgAAFrX/78AAAAA////v1rXAABa1/+/pCgAAKQo/7///wAA////vwAAAAAAAP+///8AAAAA/79a1wAApCj/v1rX6xFSVFTVWtfrEaQoVNVSVOsRWtdU1ayr6xGkKFTVpCjrEayrVNWkKOsRWtdU1VJU1iNa1/zFWtfWI1JU/MVSVOsRWtf8xVrX6xFSVPzFrKvWI6QoqumkKNYjrKuq6ayr6xGkKKrppCjrEayrqukAAKQoWtf//9YjpCha1///AABa11rX///WI1rXWtf//9YjWtekKP+/AABa16Qo/7/WI1rXWtf/vwAAWtda1/+/1iOkKKQo///WI6QoWtf//wAApCikKP//AACkKFrX///WI6QopCgAgAAApCikKACA1iNa16QoAIAAAFrXpCgAgAAApCha1/+/AAAAAP///78AAKQopCj/vwAAWtda1/+/AAAAAAAA/78AAP//////vwAA//8AAP+/AABa16Qo/7/rEaQoUlT/v+sRpCikKP+/6xGsq1rX/7/rEVJUpCj/v+sRWtesq/+/6xFa11rX/7/WI6yrWtf/n9YjpChSVP+f6xGsq1rX/5/rEaQoUlT/n9YjUlSkKP//1iNa16yr///rEVJUpCj//+sRWtesq///pCha1yjc/7+kKKQoKNz/v6QoWtf///+/pCikKP///79a16QoKNz//1rXpCj/////pCikKCjc//+kKKQo/////1rXWtf///+/Wtda1yjc/7+kKFrX////v6QoWtco3P+/WtekKCjc/79a11rXKNz/v1rXpCj///+/Wtda1////79a11rX//8AgP///////wCAWtekKP//AICkKFrX//8AgP//AAD//wCAAAD/////AIAAAAAA//8AgKQopCj//wCAUlSkKBPuAICkKKQoE+4AgFrXrKsT7gCApChSVBPuAICsq1rXE+4AgFrXWtcT7gCAWtesqyjc/MVSVKQoKNz8xVrXrKsT7vzFUlSkKBPu/MWkKFJUKNz8xayrWtco3PzFpChSVBPu/MWsq1rXE+78xf//WtekKP+/KNxa16Qo/7///1rXWtf/vyjcWtda1/+///+kKKQoAIAo3KQopCgAgP//WtekKACAKNxa16QoAID//6QopCj/////pCha1///KNykKKQo//8o3KQoWtf//yjcpCha1/////+kKFrX//8o3FrXWtf/////Wtda1/////9a11rX/7//////////v///WtekKP+///+kKFrX/7//////AAD/v///AAD///+///8AAAAA/7///6QopCj/vxPupCisq/+/E+6kKFrX/78T7qyrpCj/vxPuUlRa1/+/E+5a11JU/78T7lrXpCj/vyjcrKukKP//KNykKKyr//8T7qyrpCj//xPupCisq///KNxSVFrX/58o3FrXUlT/nxPuUlRa1/+fE+5a11JU/59a16Qo1iP//6QopCjWI///WtekKAAA//+kKKQoAAD//6QoWtcAAP+/pCikKAAA/7+kKFrX1iP/v6QopCjWI/+/Wtda19Yj/79a11rXAAD/v6QoWtfWI/+/pCha1wAA/79a16QoAAD/v1rXWtcAAP+/WtekKNYj/79a11rX1iP/v6QoWtcAAP//AAD//wAA//+kKKQoAAD//1rXWtcAAP//AAAAAAAA////////AAD/////AAAAAP//WtekKAAA//+sq6Qo6xH//1rXpCjrEf//pCisq+sR//9a11JU6xH//1JUWtfrEf//pCha1+sR//+kKKyr1iP8xayrpCjWI/zFpCisq+sR/MWsq6Qo6xH8xVrXUlTWI/zFUlRa19Yj/MVa11JU6xH8xVJUWtfrEfzFWtco3KQo//9a1yjcWtf//6QoKNykKP//pCgo3FrX//9a19YjWtf/v1rX1iOkKP+/pCjWI1rX/7+kKNYjpCj/v9YjpCikKP+/1iNa16Qo/7/WI6QoWtf/v9YjWtda1/+/WtekKCjcAICkKKQoKNwAgFrXWtco3ACApCha1yjcAIAo3FrXpCj/vyjcpCikKP+/KNxa11rX/78o3KQoWtf/v6QopCjWI///WtekKNYj//+kKFrX1iP//1rXWtfWI////3////9/////f////3////9/AAD/fwAA/38AAP9/AAD/f////3////9/////f////3////9/////f////3////9//7//f/+//3//v/9//7//f/+//3//v/9//7//f/+/////f////3////9/////f////3////9//pwAY/6cAGP+nABj/pwAY/rK+sr6yvrK+sr6yvrK+sr/f////3////9/////f////3////9/////f////3////9/////f////3////9/////fwAA/38AAP9/AAD/fwAAAAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/3+qKlTVqipU1aoqVNWqKlTVqipU1aoqVNX/HP8c/xz/HP8c/xz/HP8c+koEtfpKBLX6SgS1+koEtf9/////f////3////9///8AAP9/AAD/fwAA/38AAP9//3//v/9//7//f/+//3//v/9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/////f////3///wAA/38AAP9/AAD/fwAA/3//f4Ha/3+B2v9/gdr/f4Ha/38AAP9/AAD/fwAA/38AAP9//7//f/+//3//v/9//78AAP9/AAD/fwAA/38AAP9//3////9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/////f///AGP+OQBj/jkAY/45AGP+Of6cAMb+nADG/pwAxv6cAMYAAP9/AAD/fwAA/38AAP9//3////9/////f////3////9//7//f/+//3//v/9//7//f////3////9/////f////38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AACCWv//glr//4Ja//+CWv///v//f/7//3/+//9//v//f/9//7//f/+//3//v/9//7//fwAA/38AAP9/AAD/fwAAAAD/fwAA/38AAP9/AAD/f/9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/////f////3///wFG/+IBRv/iAUb/4gFG/+L9uf8c/bn/HP25/xz9uf8c/3//v/9//7//f/+//3//vwAA/38AAP9/AAD/fwAA/3//f////3////9/////f////3////9/////f////3////9/AAD/fwAA/38AAP9/AAD/f////3////9/////f///")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_jfw8j")

[sub_resource type="BoxShape3D" id="BoxShape3D_sw8vx"]
size = Vector3(1.1, 1.1, 1.1)

[node name="crate_physics" type="Node3D"]
script = ExtResource("1_h6fso")

[node name="RigidBody3D" type="RigidBody3D" parent="."]
collision_layer = 513
collision_mask = 513
input_ray_pickable = false
mass = 5.0
max_contacts_reported = 10

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.499895, 0)
shape = SubResource("BoxShape3D_fw6dp")

[node name="crate" type="MeshInstance3D" parent="RigidBody3D"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
mesh = SubResource("ArrayMesh_wrn37")
skeleton = NodePath("")

[node name="ButtonPresserArea3D" type="Area3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
collision_layer = 4
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D/ButtonPresserArea3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.05, 0)
shape = SubResource("BoxShape3D_sw8vx")

[node name="DitherObstacle" parent="RigidBody3D" instance=ExtResource("3_e72jg")]

[connection signal="body_entered" from="RigidBody3D" to="." method="_on_rigid_body_3d_body_entered"]
